{% extends "base.html" %}
{% block content %}

<div class="content container-fluid" style="margin:5px; padding:5px;">

  <div class="page-header">
    <h6 class="page-title">Content List</h6>
  </div>

{% include "includes/message.html" %}

  <div class="card card-table">
    <div class="card-body" style="padding: 10px;">
      <div class="table-responsive">
        <table id="table_id" class="table table-hover table-center mb-0">

          <thead>
            <tr>
              <th>Sr No</th>
              <th>Content Code</th>
              <th>Type</th>
              <th>Category</th>
              <th>Title</th>
              <th>URL</th>
               <th>Action</th>
            </tr>
          </thead>

          <tbody>
            {% for c in data %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ c.content_code }}</td>

              <td>
                {% if c.content_type == 1 %} Audio
                {% elif c.content_type == 2 %} Video
                {% elif c.content_type == 3 %} PDF
                {% elif c.content_type == 4 %} Image
                {% else %} -
                {% endif %}
              </td>

              <td>
                {% if c.content_category == 1 %} Poem
                {% elif c.content_category == 2 %} Story
                {% elif c.content_category == 3 %} Other
                {% else %} -
                {% endif %}
              </td>

              <td>{{ c.content_title }}</td>

              <td>
                {% if c.content_url %}
                  <a href="{{ c.content_url }}" target="_blank" class="btn btn-info btn-sm">Open</a>
                {% else %}
                  -
                {% endif %}
              </td>
              <td>
                    <a href="{% url 'edit_content' c.content_id %}" class="btn btn-warning btn-sm mr-1">
                        <i class="fas fa-edit"></i>
                    </a>

                    <a href="{% url 'delete_content' c.content_id %}" 
                        class="btn btn-danger btn-sm"
                        onclick="return confirm('Are you sure you want to delete this content?');">
                        <i class="fas fa-trash"></i>
                    </a>
                    </td>


            </tr>
            {% endfor %}
          </tbody>

        </table>
      </div>
    </div>
  </div>

</div>

<script>
  $(document).ready(function() {
      $('#table_id').DataTable({
          "ordering": false
      });
  });
</script>

{% endblock content %}
